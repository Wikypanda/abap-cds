<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>31 WHERE Conditions - ABAP Cheat Sheet</title>
    <style>

        * {
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-top: 20px;
        }
        h2 {
            color: #2c3e50;
            border-bottom: 2px solid #95a5a6;
            padding-bottom: 8px;
            margin-top: 30px;
        }
        h3 {
            color: #34495e;
            margin-top: 25px;
        }
        h4, h5, h6 {
            color: #34495e;
            margin-top: 20px;
        }
        p {
            margin: 10px 0;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', Consolas, Monaco, monospace;
            color: #c7254e;
            font-size: 0.9em;
        }
        pre {
            background-color: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        pre code {
            background-color: transparent;
            color: inherit;
            padding: 0;
            font-size: 0.9em;
            line-height: 1.5;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
        ul, ol {
            margin: 10px 0;
            padding-left: 30px;
        }
        li {
            margin: 5px 0;
        }
        a {
            color: #3498db;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
            color: #2980b9;
        }
        hr {
            border: none;
            border-top: 2px solid #bdc3c7;
            margin: 30px 0;
        }
        .note {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
            padding: 12px;
            margin: 15px 0;
            border-radius: 4px;
        }
        blockquote {
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin: 15px 0;
            color: #555;
            font-style: italic;
        }
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            table {
                font-size: 0.9em;
            }
            th, td {
                padding: 8px;
            }
        }
    
    </style>
</head>
<body>
<p>&lt;a name=&quot;top&quot;&gt;&lt;/a&gt;</p>
<h1>WHERE Conditions in ABAP Statements</h1>
<ul>
<li><a href="#where-conditions-in-abap-statements">WHERE Conditions in ABAP Statements</a></li>
<li><a href="#where-conditions-in-abap-sql-statements">WHERE Conditions in ABAP SQL Statements</a></li>
<li><a href="#where-conditions-in-abap-statements-for-processing-internal-tables">WHERE Conditions in ABAP Statements for Processing Internal Tables</a></li>
<li><a href="#executable-example">Executable Example</a></li>
</ul>
<p>This cheat sheet focuses on <code>WHERE</code> conditions and explores various syntax options in ABAP statements that include <code>WHERE</code> for data filtering. This is relevant, for example, when retrieving data from a data source using ABAP SQL or when processing internal tables with ABAP statements. For all details and syntax options, refer to the <a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/ABENABAP.html">ABAP Keyword Documentation</a>. Several aspects and code snippets in this cheat sheet are also available in other cheat sheets.</p>
<div class="note">[!NOTE] - Most examples in the cheat sheet use internal tables as data sources for ABAP SQL `SELECT` statements to have self-contained examples. Use `SELECT` with internal tables as data sources only when SQL functionalities like joins exceed ABAP statements. For more details, refer to the [Internal Tables](01_Internal_Tables.md) cheat sheet. - Some examples also use artifacts from the ABAP cheat sheet repository. To check out these examples, ensure you have imported the ABAP cheat sheet repository into your system.</div>
<p>&lt;p align=&quot;right&quot;&gt;&lt;a href=&quot;#top&quot;&gt;⬆️ back to top&lt;/a&gt;&lt;/p&gt;</p>
<h2>WHERE Conditions in ABAP SQL Statements</h2>
<ul>
<li>Using <a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm?file=abenlogical_expression_glosry.htm">logical expressions</a>, you can limit the number of rows in the result set or those to be modified in a data source.</li>
<li>A row is included in the result set or modified in the data source only if the logical expression is true.</li>
<li>Certain restrictions apply to logical expressions. For example, columns of types like <code>string</code> and <code>rawstring</code> cannot be used.</li>
<li>Regarding data retrieval, columns in the logical expressions do not need to be part of the result set.</li>
<li>You can combine multiple logical expressions using <code>AND</code> or <code>OR</code>.</li>
<li>Combining logical expressions in parentheses allows the refinement of conditions. Find more information <a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm?file=abenwhere_logexp_andornot.htm">here</a>.</li>
<li>Conditions can be specified in ABAP SQL statements in these contexts:</li>
<li>Queries with <code>SELECT</code>: <code>WHERE</code> and <code>HAVING</code> clauses</li>
<li>Modifying operations: <code>WHERE</code> clause in <code>UPDATE</code> and <code>DELETE</code> statements</li>
</ul>
<p>The following table provides an overview of SQL conditions. Note that the code snippets are from the executable example further down.</p>
<p>&lt;table&gt;</p>
<p>&lt;tr&gt; &lt;td&gt; Syntax Variant &lt;/td&gt; &lt;td&gt; Notes &lt;/td&gt; &lt;td&gt; Code Snippet &lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a = b ...</code> &lt;br&gt; <code>... a EQ b ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>The content of two operands is equal.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab 
  WHERE animal = &#x27;bear&#x27; 
  INTO TABLE @it.

SELECT id FROM @itab AS tab 
  WHERE animal EQ &#x27;bear&#x27; 
  INTO TABLE @it.  </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a &lt;&gt; b ...</code> &lt;br&gt; <code>... a NE b ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>The content of two operands is not equal.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab 
  WHERE animal &lt;&gt; &#x27;bear&#x27; 
  INTO TABLE @it.

SELECT id FROM @itab AS tab 
  WHERE animal NE &#x27;bear&#x27; 
  INTO TABLE @it.</code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a &lt; b ...</code> &lt;br&gt; <code>... a LT b ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>The content of the left operand is less than the content of the right operand.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab 
  WHERE count &lt; 15 
  INTO TABLE @it.

SELECT id FROM @itab AS tab 
  WHERE count LT 15 
  INTO TABLE @it.</code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a &gt; b ...</code> &lt;br&gt; <code>... a GT b ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>The content of the left operand is greater than the content of the right operand.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab 
  WHERE count &gt; 15 
  INTO TABLE @it.

SELECT id FROM @itab AS tab 
  WHERE count GT 15 
  INTO TABLE @it.</code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a &lt;= b ...</code> &lt;br&gt; <code>... a LE b ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>The content of the left operand is less than or equal to the content of the right operand.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab 
  WHERE count &lt;= 15 
  INTO TABLE @it.

SELECT id FROM @itab AS tab 
  WHERE count LE 15 
  INTO TABLE @it.</code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a &gt;= b ...</code> &lt;br&gt; <code>... a GE b ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>The content of the left operand is greater than or equal to the content of the right operand.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab 
  WHERE count &gt;= 15 
  INTO TABLE @it.

SELECT id FROM @itab AS tab 
  WHERE count GE 15 
  INTO TABLE @it.</code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... AND [NOT] ...</code> &lt;br&gt; <code>... OR [NOT] ...</code> &lt;br&gt; <code>... ( ... ) ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Combining multiple logical expressions into one logical expression using <code>AND</code> or <code>OR</code> (inlcuding negations). To further detail out the desired condition, expressions within parentheses are possible.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab
  WHERE animal = &#x27;bear&#x27; AND count = 5
  INTO TABLE @it.

SELECT id FROM @itab AS tab
  WHERE animal = &#x27;kangaroo&#x27; OR count = 4
  INTO TABLE @it.

SELECT id FROM @itab AS tab
  WHERE ( animal = &#x27;bear&#x27; AND count = 5 )
  AND ( animal = &#x27;lion&#x27; AND count = 20 )
  INTO TABLE @it.

SELECT id FROM @itab AS tab
  WHERE ( animal = &#x27;bear&#x27; AND count = 5 )
  OR ( animal = &#x27;lion&#x27; AND count = 20 )
  INTO TABLE @it.

SELECT id FROM @itab AS tab
  WHERE count &gt; 10
  OR NOT ( animal = &#x27;kangaroo&#x27; AND count = 8 )
  INTO TABLE @it.  </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a [=|&lt;&gt;|&gt;|&lt;|...] [ALL|ANY|SOME] ( SELECT ... ) ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>The content of a single operand is compared with the result set of a scalar subquery using a comparison operator. Multiple subqueries can be included with <code>UNION</code>, <code>INTERSECT</code>, or <code>EXCEPT</code>. The additions <code>ALL</code>, <code>ANY</code>, and <code>SOME</code> can only be omitted if the subquery result set contains a single row. Otherwise, an exception occurs with a multi-row result set. One of the additions must be specified in the case of multi-row result set. For <code>ALL</code>, the expression is true if the comparison holds for all rows in the result set. For <code>ANY</code> or <code>SOME</code>, the expression is true if the comparison holds for at least one row. Using <code>=</code> or <code>EQ</code> with <code>ANY</code> or <code>SOME</code> is similar to using <code>IN (SELECT ...)</code>.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>&quot;The following example assumes there is a single-row result set of the subquery.
SELECT id FROM @itab AS tab
  WHERE count = ( SELECT key_field FROM zdemo_abap_tab1 WHERE num1 = 40 )
  INTO TABLE @it.

&quot;ALL addition
SELECT id FROM @itab AS tab
  WHERE count &gt; ALL ( SELECT key_field FROM zdemo_abap_tab1 )
  INTO TABLE @it.    

&quot;ANY addition
SELECT id FROM @itab AS tab
  WHERE count = ANY ( SELECT key_field FROM zdemo_abap_tab1 WHERE num1 &lt;= 40 )
  INTO TABLE @it.

&quot;SOME addition (yields the same result as the previous statement)
SELECT id FROM @itab AS tab
  WHERE count = SOME ( SELECT key_field FROM zdemo_abap_tab1 WHERE num1 &lt;= 40 )
  INTO TABLE @it.</code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a [NOT] BETWEEN b AND c ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>The content of the left operand is (not) between the value of the two other operands. The syntax variant is like specifying <code>... [NOT] ( a &gt;= b AND a &lt;= c ) ...</code>.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab
  WHERE count BETWEEN 1 AND 10
  INTO TABLE @it. 

&quot;Negation with NOT
SELECT id FROM @itab AS tab
  WHERE count NOT BETWEEN 1 AND 10
  INTO TABLE @it.       </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a [NOT] LIKE b [ESCAPE c] ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Checks whether the content of the left operand matches (or does not match) a specified pattern. The pattern can be specified by using wildcard characters. <code>%</code> stands for any character string, including an empty string. <code>_</code> stands for any character. &lt;br&gt; Using the <code>ESCAPE</code> addition, you can specify a single-character escape character of length 1 (e.g. <code>#</code>) in front of a wildcard character or the escaped character itself. For example, to search for the pattern <code>100%</code>, you may use an expression such as the the following: <code>... LIKE &#x27;100#%&#x27; ESCAPE &#x27;#&#x27; ...</code>.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT animal FROM @itab AS tab
  WHERE animal LIKE &#x27;%ee%&#x27;
  OR animal LIKE &#x27;_e%&#x27;
  INTO TABLE @DATA(animals).

&quot;Negation with NOT
SELECT animal FROM @itab AS tab
  WHERE animal NOT LIKE &#x27;_e%&#x27;
  INTO TABLE @animals.

&quot;ESCAPE addition
&quot;The following example matches any character sequence followed 
&quot;by the % character.
SELECT animal FROM @itab AS tab
  WHERE animal LIKE &#x27;%#%&#x27; ESCAPE &#x27;#&#x27;
  INTO TABLE @animals. </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a IS [NOT] INITIAL ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Checks whether the content of an operand is (not) the initial value of its <a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm?file=abenbuiltin_ddic_type_glosry.htm">built-in DDIC type</a>.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab
  WHERE count IS INITIAL
  INTO TABLE @it. 

&quot;Negation with NOT
SELECT id FROM @itab AS tab
  WHERE count IS NOT INITIAL
  INTO TABLE @it. </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a [NOT] IN (b, c, ...)...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Checks whether the content of the left operand is (not) contained in a set of a parenthesized, comma-separated list of values. You can also specify just one operand in the parentheses.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab
  WHERE animal IN ( &#x27;elephant&#x27;, &#x27;gorilla&#x27;, &#x27;dog&#x27;, &#x27;snake&#x27; )
  INTO TABLE @it.
    
&quot;Negation with NOT
SELECT id FROM @itab AS tab
  WHERE animal NOT IN ( &#x27;chimpanzee&#x27;, &#x27;dog&#x27;, &#x27;snake&#x27; )
  INTO TABLE @it. 

&quot;Blanks after the first parentheses and before the second are not mandatory.
&quot;This also applies to blanks within the parentheses. However, choose either
&quot;to use the blanks or not.
SELECT id FROM @itab AS tab
  WHERE animal IN (&#x27;elephant&#x27;,&#x27;gorilla&#x27;,&#x27;dog&#x27;,&#x27;snake&#x27;)
  INTO TABLE @it.       </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a [NOT] IN ( SELECT ... ) ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Checks whether the content of the left operand is (not) contained in the result set of a scalar subquery. Note that multiple subqueries can be included using <code>UNION</code>, <code>INTERSECT</code>, <code>EXCEPT</code>.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab
  WHERE count IN ( SELECT key_field FROM zdemo_abap_tab1 WHERE num1 &lt;= 40 )
  INTO TABLE @it. 

&quot;Negation with NOT
SELECT id FROM @itab AS tab
  WHERE count NOT IN ( SELECT key_field FROM zdemo_abap_tab1 WHERE num1 &lt;= 40 )
  INTO TABLE @it. </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... ( a, b, ... ) IN ( ( d, e, ... ) ( f, g, ...) ... ) ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Checks whether each of the values of multiple operands in a parenthesized, comma-separated list on the left side of <code>IN</code> matches value tuples in the same place specified in parentheses on the right side of <code>IN</code>. Unlike the syntax option <code>... a [NOT] IN (b, c, ...) ...</code>, this syntax option allows <a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm?file=abensql_expression_glosry.htm">SQL expressions</a> on the right side of <code>IN</code>. Note that a negation with <code>NOT</code> is not supported.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab
  WHERE ( id, animal ) IN ( ( 1, &#x27;bear&#x27; ), ( 3, &#x27;giraffe&#x27; ), ( 987, &#x27;flamingo&#x27; ), ( 2, &#x27;dog&#x27; ) )
  INTO TABLE @it. </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... ( a, b, ... ) IN ( SELECT ... ) ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Checks whether each value of multiple operands in a parenthesized, comma-separated list on the left side of <code>IN</code> matches the content of a subquery result set. The result set must contain the same number of elements as specified in the parentheses on the left side of <code>IN</code>. As above, the position of elements in the result set is relevant. Note that multiple subqueries can be included using <code>UNION</code>, <code>INTERSECT</code>, <code>EXCEPT</code>, and that a negation with <code>NOT</code> is not supported.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab
  WHERE ( id, count ) IN ( SELECT key_field, num1 FROM zdemo_abap_tab1 )
  INTO TABLE @it. </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a [NOT] IN @ranges_table ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Checks whether the operand on the left side  of <code>IN</code> matches (or does not match) <a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm?file=abenranges_condition_glosry.htm">ranges conditions</a> specified in a <a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm?file=abenranges_table_glosry.htm">ranges table</a>. Note that the operators <code>CP</code> and <code>NP</code> are transformed into <code>LIKE</code> conditions (as a consequence, the conditions for <code>CP</code> and <code>NP</code> are case-sensitive).</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>DATA rangestab TYPE RANGE OF i.
&quot;Value range between 1 and 10
rangestab = VALUE #( ( sign = &#x27;I&#x27; option = &#x27;BT&#x27; low = 1 high = 10 ) ).

SELECT id FROM @itab AS tab
  WHERE count IN @rangestab
  INTO TABLE @it. 

&quot;Value range: Lower than 5 + greater than or equal to 25
rangestab = VALUE #( ( sign   = &#x27;I&#x27; option = &#x27;LT&#x27; low = 5 )
                     ( sign   = &#x27;I&#x27; option = &#x27;GE&#x27; low = 25  ) ).

SELECT id FROM @itab AS tab
  WHERE count IN @rangestab
  INTO TABLE @it.</code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... EXISTS ( SELECT ... ) ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Checks the result of a subquery. The comparison is true if the result set contains at least one row. Note that data source fields specified in the subquery are not relevant. You may also just use a single literal representing a column.  Note that multiple subqueries can be included using <code>UNION</code>, <code>INTERSECT</code>, <code>EXCEPT</code>.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT id FROM @itab AS tab
  WHERE EXISTS ( SELECT &#x27;X&#x27; FROM zdemo_abap_tab1 WHERE key_field = tab~id )
  INTO TABLE @it.</code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... a IS [NOT] NULL ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Checks whether the value of an operand is (not) the <a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm?file=abennull_value_glosry.htm">null value</a>. Find more information in the executable example (which also includes the <code>INDICATORS NULL STRUCTURE</code> addition to the <code>INTO</code> clause) and in the <a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm?file=abenwhere_logexp_null.htm">ABAP Keyword Documentation</a>.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>SELECT tab2~key_field, tab1~char2
  FROM zdemo_abap_tab2 AS tab2
  LEFT OUTER JOIN zdemo_abap_tab1 AS tab1 ON tab1~char1 = tab2~char1
  WHERE tab1~char1 IS NULL
  INTO TABLE @DATA(joined_tab).

&quot;Negation IS NOT NULL
SELECT tab2~key_field, tab1~char2
  FROM zdemo_abap_tab2 AS tab2
  LEFT OUTER JOIN zdemo_abap_tab1 AS tab1 ON tab1~char1 = tab2~char1
  WHERE tab1~char1 IS NOT NULL
  INTO TABLE @joined_tab.  </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;tr&gt; &lt;td&gt;</p>
<p><code>... (dynamic_where_clause) ...</code></p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<p>Dynamic <code>WHERE</code> condition specified as parenthesized data objects. These data objects should contain the syntax of a logical expression. As <code>dynamic_where_clause</code>, a character-like data object or a standard table with character-like line type is expected. The syntax is not case-sensitive. For more information, see the <a href="06_Dynamic_Programming.md">Dynamic Programming cheat sheet</a>, also with respect to potential security risks regarding dynamic specifications.</p>
<p>&lt;/td&gt;</p>
<p>&lt;td&gt;</p>
<pre><code>DATA(dynamic_where_clause) = `count &gt; 15`.

SELECT id FROM @itab AS tab
  WHERE (dynamic_where_clause)
  INTO TABLE @it. 

DATA(dyn_where_cl_as_tab) = VALUE string_table( ( `animal = &#x27;kangaroo&#x27;` )
                                                ( `OR` )
                                                ( `count = 4` ) ).

SELECT id FROM @itab AS tab
  WHERE (dyn_where_cl_as_tab)
  INTO TABLE @it. </code></pre>
<p>&lt;/td&gt; &lt;/tr&gt;</p>
<p>&lt;/table&gt;</p>
<div class="note">[!NOTE] - Some subqueries in the syntax variants must be scalar subqueries. This means that the subquery returns a single-column result set. The `SELECT` list of the subquery must only contain a single element. - See [this topic](https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/ABAPSQL_EXPR.html) in the ABAP Keyword Documentation what can be specified as operands on the left and right side. - The comparisons are done on the database, so there is no type conversions in ABAP beforehand. Note that platform-dependent conversion behavior may be applied. For SAP HANA Platform-related conversion rules, see [this topic](https://help.sap.com/docs/SAP_HANA_PLATFORM/4fe29514fd584807ac9f2a04f6754767/b4b0eec1968f41a099c828a4a6c8ca0f.html). - See [here](https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/abenwhere_logexp_compare_types.html) a list of comparable types in the ABAP Dictionary.</div>
<p>&lt;p align=&quot;right&quot;&gt;&lt;a href=&quot;#top&quot;&gt;⬆️ back to top&lt;/a&gt;&lt;/p&gt;</p>
<h2>WHERE Conditions in ABAP Statements for Processing Internal Tables</h2>
<ul>
<li>The following ABAP statements and constructor operators, used for processing internal tables, allow <code>WHERE</code> conditions to be specified:</li>
<li><code>LOOP AT</code></li>
<li><code>READ TABLE</code></li>
<li><code>DELETE</code></li>
<li>Table filtering using the <code>FILTER</code> constructor operator</li>
<li><code>FOR</code> loops in the context of table comprehensions and reductions (using, e.g., the <code>VALUE</code> - having the exact semantics as <code>LOOP AT</code>; the <code>NEW</code> operator is also possible - and <code>REDUCE</code> operators)</li>
<li>The variety of syntax options differs from that available for ABAP SQL statements.</li>
<li>The following syntax options are supported for <code>WHERE</code> conditions for these: <code>LOOP AT</code>, <code>READ TABLE</code> (searches for the first line matching the <code>WHERE</code> condition in the internal table), <code>DELETE</code>, and <code>FOR</code> loops.</li>
<li>Comparison expressions</li>
<li>Comparison operators as above (<code>=</code>, <code>EQ</code>, <code>&lt;&gt;</code>, <code>NE</code>, <code>&gt;</code>, <code>GT</code>, <code>&lt;</code>, <code>LT</code>, <code>&gt;=</code>, <code>GE</code>, <code>&lt;=</code>, <code>LE</code>)</li>
<li>Comparison operators for character-like data types <code>CO</code>, <code>CN</code>, <code>CA</code>, <code>NA</code>, <code>CS</code>, <code>NS</code>, <code>CP</code>, <code>NP</code> (see the <a href="07_String_Processing.md#comparison-operators-for-character-like-data-types-in-a-nutshell">String Processing cheat sheet</a>)</li>
<li><a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm?file=abenlogexp_bytes.htm">Comparison operators for byte-like data types</a>, e.g. <code>BYTE-CO</code> and others; and <a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/ABENLOGEXP_BITMASKS.html">bit patterns</a></li>
<li><code>[NOT] BETWEEN ... AND ...</code></li>
<li><code>[NOT] IN ranges_table</code></li>
<li><a href="https://help.sap.com/doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm?file=abenpredicate_expression_glosry.htm">Predicate expression</a></li>
<li><code>IS [NOT] INITIAL</code></li>
<li><code>IS [NOT] BOUND</code></li>
<li><code>IS [NOT] INSTANCE OF</code></li>
<li>Dynamic <code>WHERE</code> conditions: Any character-like data object or standard table with character-like line type containing logical expressions can be specified within a pair of parentheses.</li>
<li>Logical expressions can be combined with <code>AND</code>, <code>OR</code>, <code>EQUIV</code>, also using parenthesized expressions.</li>
<li><code>FILTER</code> constructor operator</li>
<li>To use the <code>FILTER</code> operator, certain prerequisites must be met:</li>
<li>The source table needs at least one sorted or hash key.</li>
<li>If the table lacks such a primary table key, a secondary table key must be available.</li>
<li>Only table key columns can be compared with single values in the <code>WHERE</code> condition. The filtering can also be based on a filter table.</li>
<li>The operator has restricted syntax options:</li>
<li>For source tables with hash keys: Only <code>=</code> is supported for key component comparisons.</li>
<li>For source tables with sorted keys: <code>=</code>, <code>EQ</code>, <code>&lt;&gt;</code>, <code>NE</code>, <code>&lt;</code>, <code>LT</code>, <code>&gt;</code>, <code>GT</code>, <code>&lt;=</code>, <code>LE</code>, <code>&gt;=</code>, <code>GE</code> are supported (at least the initial part of the key must be specified).</li>
<li><code>IS [NOT] INITIAL</code> is supported.</li>
<li>Multiple comparisons can only be combined using <code>AND</code>.</li>
</ul>
<p>&lt;p align=&quot;right&quot;&gt;&lt;a href=&quot;#top&quot;&gt;⬆️ back to top&lt;/a&gt;&lt;/p&gt;</p>
<h3>Executable Example</h3>
<p><a href="./src/zcl_demo_abap_where_conditions.clas.abap">zcl_demo_abap_where_conditions</a></p>
<div class="note">[!NOTE] - The steps to import and run the code are outlined [here](README.md#-getting-started-with-the-examples). - [Disclaimer](./README.md#%EF%B8%8F-disclaimer)</div>
</body>
</html>